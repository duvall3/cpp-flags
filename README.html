<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Mark J. Duvall ~ github.com/duvall3 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>README</title>
  <style type="text/css">
      body {
	color: #d9e1e9;
	background-color: #0d1117;
	font-size: small;
	box-sizing: border-box;
	min-width: 200px;
	max-width: 1280px;
	margin: 0 auto;
	padding: 45px;
      }
      a {
	color: #44DDAA;
      }
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
    a.sourceLine { display: inline-block; line-height: 1.25; }
    a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
    a.sourceLine:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode { white-space: pre; position: relative; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    code.sourceCode { white-space: pre-wrap; }
    a.sourceLine { text-indent: -1em; padding-left: 1em; }
    }
    pre.numberSource a.sourceLine
      { position: relative; left: -4em; }
    pre.numberSource a.sourceLine::before
      { content: attr(title);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; pointer-events: all; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #ffffff; background-color: #1d2127; }
    @media screen {
    a.sourceLine::before { text-decoration: underline; }
    }
    code span. { color: #ffffff; } /* Normal */
    code span.al { color: #95da4c; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #33dddd; } /* Attribute */
    code span.bn { color: #79c0ff; } /* BaseN */
    code span.bu { color: #33ee33; } /* BuiltIn */
    code span.cf { color: #fdbc4b; } /* ControlFlow */
    code span.ch { color: #a5d6ff; } /* Char */
    code span.cn { color: #79c0ff; } /* Constant */
    code span.co { color: #339999; font-style: italic; } /* Comment */
    code span.cv { color: #339999; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #44ddaa; } /* Documentation */
    code span.dt { color: #ff7b72; } /* DataType */
    code span.dv { color: #79c0ff; } /* DecVal */
    code span.er { color: #dd2222; font-weight: bold; } /* Error */
    code span.ex { color: #33ee33; } /* Extension */
    code span.fl { color: #79c0ff; } /* Float */
    code span.fu { color: #33ee33; } /* Function */
    code span.im { color: #c9d1d9; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #ff7b72; } /* Keyword */
    code span.op { color: #eeee22; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; } /* RegionMarker */
    code span.sc { color: #a5d6ff; } /* SpecialChar */
    code span.ss { color: #c53bcf; } /* SpecialString */
    code span.st { color: #c53bcf; } /* String */
    code span.va { color: #ffa657; } /* Variable */
    code span.vs { color: #c53bcf; } /* VerbatimString */
    code span.wa { color: #dddd33; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="gdb-with-roll">GDB with <em>ROLL</em></h1>
<p><strong><em>Simple C++ program with intentional segfault trigger to test the GNU Debugger</em></strong></p>
<p><strong>Files should include:</strong><br />
- <code>Makefile</code><br />
- <code>CMakeLists.txt</code><br />
- <code>build.sh</code><br />
- <code>main.cpp</code><br />
- <code>README.md</code><br />
- <code>README.html</code></p>
<h2 id="main-program-roll">Main Program: <code>roll</code></h2>
<ol type="1">
<li>In this directory, compile with either of the following:
<ul>
<li>to use <code>GNU make</code> directly, run <strong><code>make</code></strong><br />
</li>
<li>to use <code>CMake</code>, run <strong><code>./build.sh</code></strong><br />
</li>
</ul></li>
<li>Add the current directory to your <em>PATH</em> by running <strong><code>PATH=$PWD:$PATH</code></strong><br />
</li>
<li>Test its normal usage(s) with the commands below (details are located in the comments at the top of <code>main.cpp</code> if needed)<br />
</li>
<li>Confirm intentional segfault is present by running <strong><code>roll crash</code></strong></li>
</ol>
<h2 id="with-gnu-debugger">With GNU Debugger</h2>
<ol type="1">
<li>Start <code>gdb</code> by running <strong><code>gdb roll</code></strong> at the shell prompt; use the <code>gdb</code> prompt for the steps below</li>
<li>Invoke <code>roll [ARGS]</code> with the command <strong><code>run [ARGS]</code></strong>; for example, <strong><code>run 2 6</code></strong> will execute <strong><code>roll 2 6</code></strong><br />
</li>
<li>Cause a segfault / core-dump by running <strong><code>run crash</code></strong><br />
</li>
<li>Examine the stack trace with the command <strong><code>bt</code></strong><br />
</li>
<li>Instruct the program to finish running with the command <strong><code>finish</code></strong><br />
</li>
<li>Exit <code>gdb</code> with the command <strong><code>q</code></strong></li>
</ol>
<h2 id="code-block">Code Block</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># compile</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">make</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># normal tests</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="ex">roll</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="ex">roll</span> 20</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="ex">roll</span> 3 8</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="ex">roll</span> 2 6 4</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="ex">roll</span> 1 2 3 4</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co"># confirm segfault</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="ex">roll</span> crash</a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co"># start gdb</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="fu">gdb</span> roll</a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co"># repeat normal tests (optional)</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="ex">run</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="ex">run</span> 20</a>
<a class="sourceLine" id="cb1-16" title="16"><span class="ex">run</span> 3 8</a>
<a class="sourceLine" id="cb1-17" title="17"><span class="ex">run</span> 2 6 4</a>
<a class="sourceLine" id="cb1-18" title="18"><span class="ex">run</span> 1 2 3 4</a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co"># trigger segfault and examine stack trace</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="ex">run</span> crash</a>
<a class="sourceLine" id="cb1-21" title="21"><span class="ex">bt</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="co"># finish and exit</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="ex">finish</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="ex">q</span></a></code></pre></div>
<h2 id="additional-resources">Additional Resources</h2>
<p>Beyond the information in <code>man gdb</code> and <code>info gdb</code> (which may require the <code>gdb-doc</code> package), I found the following helpful:<br />
- <a href="https://www.geeksforgeeks.org/gdb-step-by-step-introduction/">GDB Introduction at Geeks For Geeks</a><br />
- <a href="https://www.tutorialspoint.com/gnu_debugger/gdb_quick_guide.htm">GDB Quick Guide at Tutorials Point</a><br />
- <a href="https://www.howtogeek.com/devops/debugging-with-gdb-getting-started/">Debugging with GDB at How-To Geek</a><br />
- <a href="https://www.sourceware.org/gdb/">GDB Project Homepage at GNU.org</a></p>
</body>
</html>
